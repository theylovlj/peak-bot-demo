<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peak Bot Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", sans-serif;
      overflow: hidden;
    }

    .canvas {
      width: 1920px;
      height: 1080px;
      background: #000;
      position: relative;
      overflow: hidden;
    }

    @media (max-width: 1920px) {
      .canvas {
        transform: scale(0.52);
        transform-origin: center center;
      }
    }

    /* ===== HOOK TEXT ===== */
    .hook {
      position: absolute;
      left: 960px;
      top: 540px;
      transform: translate(-50%, -50%);
      font-size: 64px;
      font-weight: 600;
      color: #fff;
      opacity: 0;
      will-change: transform, opacity;
    }

    /* ===== PAIN POINTS ===== */
    .pain-container {
      position: absolute;
      left: 960px;
      top: 540px;
      transform: translate(-50%, -50%);
      opacity: 0;
      will-change: transform, opacity;
      text-align: center;
    }

    .pain-words {
      display: flex;
      gap: 100px;
      justify-content: center;
      margin-bottom: 40px;
      font-size: 32px;
      font-weight: 500;
      color: #666;
    }

    .pain-word {
      opacity: 0;
      transform: translateY(-20px);
      will-change: transform, opacity;
    }

    .pain-arrows {
      display: flex;
      gap: 180px;
      justify-content: center;
      margin-bottom: 40px;
      font-size: 48px;
      color: #444;
    }

    .pain-arrow {
      opacity: 0;
      will-change: opacity;
    }

    .pain-text {
      font-size: 32px;
      font-weight: 600;
      color: #fff;
    }

    /* ===== STAR TRANSITION ===== */
    .star {
      position: absolute;
      left: 960px;
      top: 540px;
      transform: translate(-50%, -50%);
      font-size: 80px;
      color: #8b5cf6;
      opacity: 0;
      filter: drop-shadow(0 0 40px rgba(139, 92, 246, 0.6));
      will-change: transform, opacity;
    }

    /* ===== CHAT PILL ===== */
    .pill {
      position: absolute;
      left: 640px;
      top: 540px;
      transform: translate(-50%, -50%) scale(0.92);
      background: #1a1a1a;
      border: 1.5px solid #2a2a2a;
      border-radius: 100px;
      padding: 24px 40px;
      opacity: 0;
      will-change: transform, opacity;
    }

    .pill-label {
      font-size: 14px;
      font-weight: 600;
      color: #666;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .pill-text {
      font-size: 20px;
      font-weight: 400;
      color: #fff;
      letter-spacing: -0.01em;
    }

    .pill-cursor {
      display: inline-block;
      width: 2px;
      height: 24px;
      background: #fff;
      margin-left: 2px;
      vertical-align: middle;
      opacity: 0;
    }

    /* ===== BUILD LIST ===== */
    .build-container {
      position: absolute;
      left: 960px;
      top: 540px;
      transform: translate(-50%, -50%);
      opacity: 0;
      will-change: transform, opacity;
    }

    .build-header {
      font-size: 28px;
      font-weight: 600;
      color: #666;
      margin-bottom: 40px;
      text-align: center;
    }

    .build-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .build-item {
      display: flex;
      align-items: center;
      gap: 16px;
      font-size: 24px;
      color: #fff;
      opacity: 0;
      transform: translateX(-20px);
      will-change: transform, opacity;
    }

    .build-check {
      color: #22c55e;
      font-size: 28px;
      font-weight: 700;
      transform: scale(0);
      will-change: transform;
    }

    /* ===== RESULT ===== */
    .result-container {
      position: absolute;
      left: 960px;
      top: 540px;
      transform: translate(-50%, -50%);
      opacity: 0;
      will-change: transform, opacity;
      text-align: center;
    }

    .result-text {
      font-size: 56px;
      font-weight: 700;
      color: #fff;
      margin-bottom: 48px;
    }

    .result-time {
      font-size: 72px;
      font-weight: 700;
      color: #8b5cf6;
    }

    /* ===== CTA ===== */
    .cta-container {
      position: absolute;
      left: 960px;
      top: 540px;
      transform: translate(-50%, -50%);
      opacity: 0;
      will-change: transform, opacity;
      text-align: center;
    }

    .cta-text {
      font-size: 56px;
      font-weight: 700;
      color: #fff;
      margin-bottom: 32px;
    }

    .cta-url {
      font-size: 36px;
      font-weight: 600;
      color: #8b5cf6;
      margin-bottom: 48px;
    }

    .cta-button {
      padding: 20px 48px;
      background: linear-gradient(135deg, #7c3aed, #8b5cf6);
      border: none;
      border-radius: 100px;
      font-size: 20px;
      font-weight: 600;
      color: #fff;
      cursor: pointer;
      opacity: 0;
      will-change: transform, opacity;
    }

    /* ===== REPLAY ===== */
    .replay {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      padding: 16px 40px;
      background: #1a1a1a;
      border: 1px solid #2a2a2a;
      color: #fff;
      border-radius: 100px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
      opacity: 0;
      transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
      will-change: transform, opacity;
    }

    .replay:hover {
      background: #2a2a2a;
      transform: translateX(-50%) scale(1.02);
    }

    .replay.on {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="canvas">
    <!-- Scene 1: Hook -->
    <div class="hook" id="hook">Setting up a Discord server?</div>

    <!-- Scene 2: Pain Points -->
    <div class="pain-container" id="painContainer">
      <div class="pain-words">
        <div class="pain-word">Channels</div>
        <div class="pain-word">Roles</div>
        <div class="pain-word">Permissions</div>
      </div>
      <div class="pain-arrows">
        <div class="pain-arrow">↓</div>
        <div class="pain-arrow">↓</div>
        <div class="pain-arrow">↓</div>
      </div>
      <div class="pain-text" id="painText"></div>
    </div>

    <!-- Scene 3: Star -->
    <div class="star" id="star">✦</div>

    <!-- Scene 4: Chat -->
    <div class="pill" id="pillBot">
      <div class="pill-label">PEAK BOT</div>
      <div class="pill-text" id="botText"></div>
    </div>

    <div class="pill" id="pillUser" style="left: 1280px; top: 640px;">
      <div class="pill-label">YOU</div>
      <div class="pill-text" id="userText"></div>
    </div>

    <!-- Scene 5: Building -->
    <div class="build-container" id="buildContainer">
      <div class="build-header">Building your server...</div>
      <div class="build-list">
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created #announcements</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created #general</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created #lfg-duos</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created #lfg-squads</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created #tournament-info</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created @Champion role</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Created @Contender role</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Configured XP system</span>
        </div>
        <div class="build-item">
          <span class="build-check">✓</span>
          <span>Enabled anti-spam</span>
        </div>
      </div>
    </div>

    <!-- Scene 6: Result -->
    <div class="result-container" id="resultContainer">
      <div class="result-text">Your server is ready.</div>
      <div class="result-time"><span id="timer">47</span> seconds</div>
    </div>

    <!-- Scene 7: CTA -->
    <div class="cta-container" id="ctaContainer">
      <div class="cta-text">Describe it. We build it.</div>
      <div class="cta-url">✦ peakbot.pro</div>
      <button class="cta-button">Add to Discord →</button>
    </div>

    <!-- Replay -->
    <button class="replay" id="replay">replay</button>
  </div>

<script>
// ===== SMOOTH 60FPS ENGINE =====
const ease = {
  out: t => 1 - Math.pow(1 - t, 3),
  outQuart: t => 1 - Math.pow(1 - t, 4),
  outExpo: t => t === 1 ? 1 : 1 - Math.pow(2, -10 * t),
  outBack: t => {
    const c1 = 1.70158;
    const c3 = c1 + 1;
    return 1 + c3 * Math.pow(t - 1, 3) + c1 * Math.pow(t - 1, 2);
  }
};

function tween(el, props, duration, easing = ease.outExpo) {
  return new Promise(resolve => {
    const start = performance.now();

    function tick(now) {
      const t = Math.min((now - start) / duration, 1);
      const e = easing(t);

      let transform = '';
      if ('x' in props) transform += `translateX(${props.x * e}px) `;
      if ('y' in props) transform += `translateY(${props.y * e}px) `;
      if ('scale' in props) {
        const s = 1 + (props.scale - 1) * e;
        transform += `scale(${s}) `;
      }
      if (transform) el.style.transform = transform.trim();

      if ('opacity' in props) {
        el.style.opacity = props.opacity * e;
      }

      t < 1 ? requestAnimationFrame(tick) : resolve();
    }
    requestAnimationFrame(tick);
  });
}

function set(el, styles) {
  Object.assign(el.style, styles);
}

function wait(ms) {
  return new Promise(r => setTimeout(r, ms));
}

async function type(el, text, speed = 28) {
  el.textContent = '';
  for (let i = 0; i < text.length; i++) {
    el.textContent += text[i];
    const delay = speed + (Math.random() * 15) - 7;
    await wait(delay);
  }
}

// ===== MAIN ANIMATION =====
async function play() {
  const replay = document.getElementById('replay');
  replay.classList.remove('on');

  // Reset all
  const hook = document.getElementById('hook');
  const painContainer = document.getElementById('painContainer');
  const painWords = document.querySelectorAll('.pain-word');
  const painArrows = document.querySelectorAll('.pain-arrow');
  const painText = document.getElementById('painText');
  const star = document.getElementById('star');
  const pillBot = document.getElementById('pillBot');
  const pillUser = document.getElementById('pillUser');
  const botText = document.getElementById('botText');
  const userText = document.getElementById('userText');
  const buildContainer = document.getElementById('buildContainer');
  const buildItems = document.querySelectorAll('.build-item');
  const buildChecks = document.querySelectorAll('.build-check');
  const resultContainer = document.getElementById('resultContainer');
  const timer = document.getElementById('timer');
  const ctaContainer = document.getElementById('ctaContainer');

  set(hook, { opacity: '0' });
  set(painContainer, { opacity: '0' });
  set(star, { opacity: '0', transform: 'translate(-50%, -50%) scale(0.9)' });
  set(pillBot, { opacity: '0' });
  set(pillUser, { opacity: '0' });
  set(buildContainer, { opacity: '0' });
  set(resultContainer, { opacity: '0' });
  set(ctaContainer, { opacity: '0' });
  botText.textContent = '';
  userText.textContent = '';
  painText.textContent = '';

  await wait(400);

  // ===== SCENE 1: Hook =====
  await tween(hook, { opacity: 1 }, 400);
  await wait(2000);
  await tween(hook, { opacity: 0 }, 300);

  // ===== SCENE 2: Pain Points =====
  await tween(painContainer, { opacity: 1 }, 400);

  for (let i = 0; i < painWords.length; i++) {
    await wait(150);
    set(painWords[i], {
      transition: 'all 0.3s cubic-bezier(0.16, 1, 0.3, 1)',
      opacity: '1',
      transform: 'translateY(0)'
    });
  }

  await wait(400);

  for (let arrow of painArrows) {
    set(arrow, { transition: 'opacity 0.3s', opacity: '1' });
    await wait(100);
  }

  await wait(300);
  await type(painText, 'Hours of setup. For every. Single. Server.', 25);
  await wait(1000);
  await tween(painContainer, { opacity: 0 }, 300);

  // ===== SCENE 3: Star =====
  await tween(star, { opacity: 1, scale: 1 }, 400, ease.outBack);
  await wait(800);
  await tween(star, { opacity: 0, scale: 0.9 }, 300);

  // ===== SCENE 4: Chat =====
  await tween(pillBot, { opacity: 1 }, 350);
  await wait(200);
  await type(botText, 'What kind of server do you want to build?', 40);

  await wait(500);
  await tween(pillUser, { opacity: 1 }, 350);
  await wait(200);
  await type(userText, 'A gaming community for Fortnite with tournaments, ranks, and LFG channels', 30);

  await wait(800);
  await tween(pillBot, { opacity: 0 }, 250);
  await tween(pillUser, { opacity: 0 }, 250);

  // ===== SCENE 5: Building =====
  await tween(buildContainer, { opacity: 1 }, 400);
  await wait(300);

  for (let i = 0; i < buildItems.length; i++) {
    await wait(80);
    set(buildItems[i], {
      transition: 'all 0.3s cubic-bezier(0.16, 1, 0.3, 1)',
      opacity: '1',
      transform: 'translateX(0)'
    });

    await wait(150);
    set(buildChecks[i], {
      transition: 'transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)',
      transform: 'scale(1)'
    });
  }

  await wait(800);
  await tween(buildContainer, { opacity: 0 }, 300);

  // ===== SCENE 6: Result =====
  await tween(resultContainer, { opacity: 1 }, 400);

  // Animate counter
  let count = 0;
  const target = 47;
  const duration = 1500;
  const start = performance.now();

  function animateTimer(now) {
    const elapsed = now - start;
    const progress = Math.min(elapsed / duration, 1);
    count = Math.floor(progress * target);
    timer.textContent = count;

    if (progress < 1) {
      requestAnimationFrame(animateTimer);
    } else {
      timer.textContent = target;
    }
  }
  requestAnimationFrame(animateTimer);

  await wait(3000);
  await tween(resultContainer, { opacity: 0 }, 300);

  // ===== SCENE 7: CTA =====
  await tween(ctaContainer, { opacity: 1 }, 400);
  await wait(4000);

  // Show replay
  replay.classList.add('on');
}

// Replay handler
document.getElementById('replay').addEventListener('click', play);

// Start
window.onload = () => setTimeout(play, 300);
</script>
</body>
</html>